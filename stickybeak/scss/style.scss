@import 'bourbon'; // http://bourbon.io/

@import '../partials/mixins'; // custom mixins

@import '../partials/layout'; // responsive grid and media queries

/* -------------------------------- 

Primary style

-------------------------------- */

*, *::after, *::before {
	box-sizing: border-box;
}

html {
	font-size: 60%;
}

body {
	font: {
		size: 1.6rem;
	}
	// background-color: shade($color-1, 20%); fix this up
	@include font-smoothing;

	&::before {
		/* never visible - this is used in jQuery to check the current MQ */ 
		content: 'mobile';
		display: none;
	}

	@include MQ(L) {
		
		&::before {
			/* never visible - this is used in jQuery to check the current MQ */ 
			content: 'desktop';
		}
	}
}

a {
	// color: $color-3;
	text-decoration: none;
}

/* -------------------------------- 

Main Components 

-------------------------------- */

body[data-hijacking="on"] {
	
	@include MQ(L) {
		overflow: hidden;
	}
}

.cd-section {
	height: 100vh;

	h2 {
		line-height: 100vh;
		text-align: center;
		font-size: 2.4rem;
	}

	// &:nth-of-type(2) > div {
	// 	background-color: $color-2;
	// }

	// &:nth-of-type(3) > div {
	// 	background-color: $color-3;
	// }

	// &:nth-of-type(4) > div {
	// 	background-color: $color-4;
	// }

	// &:nth-of-type(5) > div {
	// 	background-color: $color-5;
	// }

	[data-animation="parallax"] & > div{
		background-position: center center;
		background-repeat: no-repeat;
		background-size: cover;
	}

	// [data-animation="parallax"] &:first-of-type {
	// 	background-image: url('../img/img-1.jpg');
	// }

	// [data-animation="parallax"] &:nth-of-type(2) {
	// 	background-image: url('../img/img-2.jpg');
	// }

	// [data-animation="parallax"] &:nth-of-type(3) {
	// 	background-image: url('../img/img-3.jpg');
	// }

	// [data-animation="parallax"] &:nth-of-type(4) {
	// 	background-image: url('../img/img-4.jpg');
	// }

	// [data-animation="parallax"] &:nth-of-type(5) {
	// 	background-image: url('../img/img-5.jpg');
	// }

	@include MQ(L) {

		h2 {
			font-size: 4rem;
			font-weight: 300;
		}

		[data-hijacking="on"] & {
			opacity: 0;
			visibility: hidden;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;

			> div {
				visibility: visible;
			}
		}
	}
}

@include MQ(L) {
	.cd-section:first-of-type > div::before {
		display: none;
	}
}

.cd-section > div {

	@include MQ(L) {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		
		/* Force Hardware Acceleration */
		@include transform(translateZ(0));
		@include backface-visibility(hidden);

		[data-hijacking="on"] & {
			position: absolute;
		}
	}
}

.cd-vertical-nav {
	/* lateral navigation */
	position: fixed;
	z-index: 1;
	right: 3%;
	@include center(y);
	display: none;

	a {
		display: block;
		height: 40px;
		width: 40px;

		/* image replace */
		overflow: hidden;
		text-indent: 100%;
		white-space: nowrap;

		// background: url(../img/cd-icon-arrow.svg) no-repeat center center;

		&.cd-prev {
			@include transform(rotate(180deg));
			margin-bottom: 10px;
		}

		&.inactive {
			visibility: hidden;
			opacity: 0;
			@include transition(opacity 0.2s 0s, visibility 0s 0.2s);
		}
	}

	@include MQ(L) {
		display: block;
	}
}
